#######################################################
# 
# ClientInformationQueueController.py
# Python implementation of the Class ClientInformationQueueController
# Generated by Enterprise Architect
# Created on:      21-May-2020 9:46:59 AM
# Original author: Natha Paquette
# 
#######################################################
from FreeTAKServer.controllers.model.ClientInformationQueue import ClientInformationQueue
from multiprocessing import Queue

class ClientInformationQueueController:
    def __init__(self):  
        self.m_ClientInformationQueue = ClientInformationQueue()

    def addClientToQueue(self, clientInformation):
        self.m_ClientInformationQueue.clientQueue.put(clientInformation)

    def removeClientFromQueue(self, clientInformationToRemove):
        #create instance of old queue
        oldQueue = self.m_ClientInformationQueue.clientQueue
        #create new queue
        newQueue = Queue()
        #iter through len of old queue
        for _ in len(oldQueue):
            #check if retrieved client information matches information to remove if so it will be ignored
            #otherwis it will be added to the new queue
            clientInformation = oldQueue.get()
            if clientInformation == clientInformationToRemove:
                pass
            else:
                newQueue.put(clientInformation)
        self.m_ClientInformationQueue.clientQueue = newQueue
